#######
# You can reload your tmux config without quitting tmux with:
# tmux source-file ~/.tmux.conf

# Some tweaks to the status line (i dont think with works with the theme loaded afterwards)
set -g status-right "%H:%M"
set -g window-status-current-style "underscore"
set -sg escape-time 20 # requried to avoid "move-line" issue on lazyvim

# If running inside tmux ($TMUX is set), then change the status line to red
%if #{TMUX}
set -g status-bg red
%endif

# Enable RGB colour if running in xterm(1)
set-option -sa terminal-overrides ",xterm*:Tc"

# Change the default $TERM to tmux-256color
set -g default-terminal "xterm-256color"

# allows mouse integration
set -g mouse on

# Start windows and panes at 1, not 0
set -g base-index 1
setw -g pane-base-index 1

# Set new panes to open in current directory
bind c new-window -c "#{pane_current_path}"
bind '"' split-window -c "#{pane_current_path}"
bind % split-window -h -c "#{pane_current_path}"

# Move between panes using hjkl
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# Send keys to all panes
bind C-a set-window-option synchronize-panes

################################################################################
# Custom from now downwards

# Change default shell
set-option -g default-shell /bin/zsh

# increase scroll-back history
set -g history-limit 500000

# List of plugins
set -g @plugin 'tmux-plugins/tpm' # tmux plugin manager

# Theme
set -g @plugin 'jimeh/tmux-themepack'
set -g @themepack 'powerline/default/green'

set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'tmux-plugins/tmux-continuum' # Continually saves session/window/panel configuration

set -g @plugin 'tmux-plugins/tmux-yank' # Copy to system clipboard
set-option -g default-command "reattach-to-user-namespace -l $SHELL" # required for MacOS
set -s set-clipboard on

# Auto restore last session
set -g @continuum-restore 'on'

# Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)
run '~/.tmux/plugins/tpm/tpm'

set renumber-windows "on" # renumber windows after the one that as closed

# Change color for pane numbers
set display-panes-colour "yellow"
set display-panes-active-colour "yellow"

set-window-option -g mode-mouse on
